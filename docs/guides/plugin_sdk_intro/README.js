Ext.data.JsonP.plugin_sdk_intro({"guide":"<h1 id='plugin_sdk_intro-section-introduction'>Introduction</h1>\n<div class='toc'>\n<p><strong>Contents</strong></p>\n<ol>\n<li><a href='#!/guide/plugin_sdk_intro-section-what-is-a-plugin%3F'>What is a Plugin?</a></li>\n<li><a href='#!/guide/plugin_sdk_intro-section-developing-a-custom-plugin'>Developing a Custom Plugin</a></li>\n<li><a href='#!/guide/plugin_sdk_intro-section-plugin-files'>Plugin Files</a></li>\n<li><a href='#!/guide/plugin_sdk_intro-section-plugin-source-code'>Plugin Source Code</a></li>\n<li><a href='#!/guide/plugin_sdk_intro-section-creating-an-editor-command'>Creating an Editor Command</a></li>\n<li><a href='#!/guide/plugin_sdk_intro-section-creating-the-toolbar-button'>Creating the Toolbar Button</a></li>\n<li><a href='#!/guide/plugin_sdk_intro-section-plugin-loading'>Plugin Loading</a></li>\n<li><a href='#!/guide/plugin_sdk_intro-section-full-source-code'>Full Source Code</a></li>\n<li><a href='#!/guide/plugin_sdk_intro-section-working-example'>Working Example</a></li>\n</ol>\n</div>\n\n<p>The aim of this SDK is to demonstrate how to create a most basic CKEditor plugin.</p>\n\n<h2 id='plugin_sdk_intro-section-what-is-a-plugin%3F'>What is a Plugin?</h2>\n\n<p>Plugins are the most important building blocks of CKEditor. They bring all the feature you see in it, including user interface rendering, text manipulation, data input and output, etc. They're build over the a base which is called the <strong>CKEditor Core</strong>, represented the <a href=\"#!/api\">CKEditor Core API</a>.</p>\n\n<p>A huge variety of plugins is made available by the CKEditor developers community. The <a href=\"http://ckeditor.com/addons/plugins\">CKEditor Add-on Repository</a> is the starting point to find and share them.</p>\n\n<h2 id='plugin_sdk_intro-section-developing-a-custom-plugin'>Developing a Custom Plugin</h2>\n\n<p>Learn by coding. We are going to develop a <strong>timestamp</strong> plugin that inserts current date and time into the caret position inside CKEditor. The timestamp will be added after the user clicks a dedicated toolbar button.</p>\n\n<p>Since the implementation makes use of the <a href=\"#!/api/CKEDITOR.editor-method-insertHtml\" rel=\"CKEDITOR.editor-method-insertHtml\" class=\"docClass\">CKEDITOR.editor.insertHtml</a> function, this\nexample can be easily adjusted to insert any other HTML element.</p>\n\n<p>The plugin will be code-named <code>timestamp</code> and according to CKEditor naming conventions,\nthis name will also be given to the plugin folder.</p>\n\n<h2 id='plugin_sdk_intro-section-plugin-files'>Plugin Files</h2>\n\n<p>Firstly, we will need to create the <code>timestamp</code> folder inside the <code>plugins</code> directory\nof the CKEditor installation.</p>\n\n<p class=\"tip\">\n    Remember that for CKEditor the name of the plugin folder is important and has to\n    be the same as the name of the plugin, otherwise the editor will not be able\n    to recognize it.\n</p>\n\n\n<p>Inside the newly created <code>timestamp</code> folder we are going to place the <code>plugin.js</code> file\nthat will contain the plugin logic. Apart from that, since we will also need a\ntoolbar icon for our plugin, we are going to add <code>icons</code> folder and subsequently\nplace the <code>timestamp.png</code> file inside.</p>\n\n<p>To sum up, we will need the following file structure for our plugin to work:</p>\n\n<ul>\n<li><code>ckeditor root/</code>\n\n<ul>\n<li><code>plugins/</code>\n\n<ul>\n<li><code>timestamp/</code>\n\n<ul>\n<li><code>icons/</code>\n\n<ul>\n<li><code>timestamp.png</code></li>\n</ul>\n</li>\n<li><code>plugin.js</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n\n<h2 id='plugin_sdk_intro-section-plugin-source-code'>Plugin Source Code</h2>\n\n<p>With the following structure ready, it is time to open the <code>plugin.js</code> file in a\ntext editor and to start creating the source code of the plugin.</p>\n\n<pre><code><a href=\"#!/api/CKEDITOR.plugins-method-add\" rel=\"CKEDITOR.plugins-method-add\" class=\"docClass\">CKEDITOR.plugins.add</a>( 'timestamp', {\n    icons: 'timestamp',\n    init: function( editor ) {\n        //Plugin logic goes here.\n    }\n});\n</code></pre>\n\n<p>All CKEditor plugins are created by using the <a href=\"#!/api/CKEDITOR.plugins-method-add\" rel=\"CKEDITOR.plugins-method-add\" class=\"docClass\">CKEDITOR.plugins.add</a> function. This\nfunction should contain the plugin name - <code>'timestamp'</code> - and the plugin logic placed\ninside the <a href=\"#!/api/CKEDITOR.pluginDefinition-method-init\" rel=\"CKEDITOR.pluginDefinition-method-init\" class=\"docClass\">init</a> function that is called\nupon the initialization of the editor instance.</p>\n\n<p>Additionally, as we're going to define a toolbar button, the <code>icons</code> property is set, including the name of the icon file (important: matching the <strong>button name</strong>, lowercased).</p>\n\n<h2 id='plugin_sdk_intro-section-creating-an-editor-command'>Creating an Editor Command</h2>\n\n<p>It is customary for CKEditor plugins to define an editor command that performs an\naction associated with them. The command should be defined inside the <code>init</code> function\nin order to be created upon the initialization of a CKEditor instance.</p>\n\n<p>In this case we are going to use the <a href=\"#!/api/CKEDITOR.editor-method-addCommand\" rel=\"CKEDITOR.editor-method-addCommand\" class=\"docClass\">CKEDITOR.editor.addCommand</a>\nfunction to define an <code>insertTimestamp</code> command that will insert the current date and time into CKEditor:</p>\n\n<pre><code>editor.addCommand( 'insertTimestamp', {\n    exec: function( editor ) {\n        var now = new Date();\n        editor.insertHtml( 'The current date and time is: &lt;em&gt;' + now.toString() + '&lt;/em&gt;' );\n    }\n});\n</code></pre>\n\n<p>The <a href=\"#!/api/CKEDITOR.commandDefinition-method-exec\" rel=\"CKEDITOR.commandDefinition-method-exec\" class=\"docClass\">exec</a> method defines a function that\nwill be fired when the <code>insertTimestamp</code> command is executed.</p>\n\n<p>The most important part is to insert the HTML code into the document. To do this,\nwe will use the <a href=\"#!/api/CKEDITOR.editor-method-insertHtml\" rel=\"CKEDITOR.editor-method-insertHtml\" class=\"docClass\">insertHtml</a> function. This function\ncan be used to insert arbitrary HTML code into the document, so with a bit of tweaking\nyou can customize the timestamp plugin code to add other HTML elements into the\nCKEditor editing area.</p>\n\n<h2 id='plugin_sdk_intro-section-creating-the-toolbar-button'>Creating the Toolbar Button</h2>\n\n<p>The simplified timestamp plugin should work through a toolbar button. To this end,\ninside the <code>init</code> function we need to define a button that will be associated with\nthe <code>insertTimestamp</code> command:</p>\n\n<pre><code>editor.ui.addButton( 'Timestamp', {\n    label: 'Insert Timestamp',\n    command: 'insertTimestamp',\n    toolbar: 'insert'\n});\n</code></pre>\n\n<p>The above <a href=\"#!/api/CKEDITOR.ui-method-addButton\" rel=\"CKEDITOR.ui-method-addButton\" class=\"docClass\">CKEDITOR.ui.addButton</a> function call created a button name <code>'Timestamp'</code> with the following properties;</p>\n\n<ul>\n<li><code>label</code>: the textual part of the button (if visible) and its tooltip.</li>\n<li><code>command</code>: the command to be executed once the button is activated. This is the command we created in the previews step.</li>\n<li><code>toolbar</code>: the <a href=\"#!/guide/dev_toolbar-section-1\">toolbar group</a> into which position the button.</li>\n</ul>\n\n\n<h2 id='plugin_sdk_intro-section-plugin-loading'>Plugin Loading</h2>\n\n<p>It is now time to tell CKEditor to load our plugin. To do so we have to add its name to the\n<a href=\"#!/api/CKEDITOR.config-cfg-extraPlugins\" rel=\"CKEDITOR.config-cfg-extraPlugins\" class=\"docClass\">extraPlugins</a> configuration option:</p>\n\n<pre><code>config.extraPlugins = 'timestamp';\n</code></pre>\n\n<p>Now load a CKEditor sample page. You should be able to see the new plugin toolbar button in the toolbar. For example:</p>\n\n<p><p><img src=\"guides/plugin_sdk_intro/pluginLoaded.png\" alt=\"Tooltip plugin has been loaded\" width=\"756\" height=\"253\"></p></p>\n\n<h2 id='plugin_sdk_intro-section-full-source-code'>Full Source Code</h2>\n\n<p>The full contents of the <code>plugin.js</code> file look as follows:</p>\n\n<pre><code><a href=\"#!/api/CKEDITOR.plugins-method-add\" rel=\"CKEDITOR.plugins-method-add\" class=\"docClass\">CKEDITOR.plugins.add</a>( 'timestamp', {\n    icons: 'timestamp',\n    init: function( editor ) {\n        editor.addCommand( 'insertTimestamp', {\n            exec: function( editor ) {\n                var now = new Date();\n                editor.insertHtml( 'The current date and time is: &lt;em&gt;' + now.toString() + '&lt;/em&gt;' );\n            }\n        });\n        editor.ui.addButton( 'Timestamp', {\n            label: 'Insert Timestamp',\n            command: 'insertTimestamp',\n            toolbar: 'insert'\n        });\n    }\n});\n</code></pre>\n\n<p class=\"tip\">\n    You can also <a href=\"guides/plugin_sdk_intro/timestamp.zip\">download the\n    whole plugin folder</a> including the icon and the fully commented source code.\n</p>\n\n\n<h2 id='plugin_sdk_intro-section-working-example'>Working Example</h2>\n\n<p>The plugin code is now ready. When you click the <strong>Insert Timestamp</strong> toolbar button,\ncurrent date and time will be inserted into the document.</p>\n\n<p>Note that the format\nof the timestamp may vary for different platforms and browsers. If you want to\nhave more control over the display of the date and time, use the\n<a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date\">Date</a> object's\nproperties and methods.</p>\n\n<p><p><img src=\"guides/plugin_sdk_intro/workingExample.png\" alt=\"Date and time added to the document in CKEditor\" width=\"754\" height=\"254\"></p></p>\n\n<p>Congratulations! You have just created a valid CKEditor plugin in under 20 lines\nof code! Since the <code>insertHtml</code> function can be used to add arbitrary HTML code to\nthe document, you can replace the timestamp logic with your own customized code in\norder to insert other types of content into your document.</p>\n","title":"Introduction","meta_description":null,"meta_keywords":null});